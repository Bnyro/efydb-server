<script lang="ts">
	import { getRole, getToken } from '$lib/token';
	import { onMount } from 'svelte';

	let token: string | null;
	let role: number | null;

	onMount(() => {
		token = getToken();
		role = getRole();
	});
</script>

<header>
	<div class="efy_flex">
		<a href="/" style="display: flex" title="Logo">
			<svg version="1.2" xmlns="http://www.w3.org/2000/svg" width="3000" height="3000" class="logo" viewBox="0 0 3000 3000"><path fill-rule="evenodd" d="M1498 0a98680 98680 0 0 1 1112 4 501 501 0 0 1 110 29 588 588 0 0 1 109 64 634 634 0 0 1 73 73 477 477 0 0 1 29 40l11 19a545 545 0 0 1 49 132 507 507 0 0 1 8 57l1 1083a89589 89589 0 0 1-4 1109 353 353 0 0 1-18 78 624 624 0 0 1-38 87 651 651 0 0 1-46 65 511 511 0 0 1-104 91l-18 11a472 472 0 0 1-187 56c-15 2-160 2-1085 2s-1070 0-1084-2a838 838 0 0 1-79-13 571 571 0 0 1-108-43l-19-11a556 556 0 0 1-87-72 2099 2099 0 0 1-32-38 518 518 0 0 1-68-128l-6-21-5-20a484 484 0 0 1-10-55L0 1509A155831 155831 0 0 1 4 394a415 415 0 0 1 41-140 557 557 0 0 1 46-75 569 569 0 0 1 66-70 486 486 0 0 1 145-84A506 506 0 0 1 404 3l19-2 1075-1zM400 205a292 292 0 0 0-64 23 254 254 0 0 0-118 130 321 321 0 0 0-17 71l-1 172 1 340 1 179h2598c0-619-1-696-2-702a1278 1278 0 0 0-9-40 286 286 0 0 0-29-64 336 336 0 0 0-30-37 286 286 0 0 0-42-35 285 285 0 0 0-86-36c-7-2-19-4-26-4-12-2-159-2-1077-2l-1076 1-23 4zM200 1941l1 635a310 310 0 0 0 18 69 310 310 0 0 0 35 60 292 292 0 0 0 87 70 303 303 0 0 0 71 22l13 2h2151a610 610 0 0 0 57-13 316 316 0 0 0 55-28 320 320 0 0 0 43-36 277 277 0 0 0 51-78 334 334 0 0 0 16-62c1-6 2-136 2-635v-627H200zM2017 373l19 2a72 72 0 0 1 40 23 14100 14100 0 0 1 116 164l49-72a5228 5228 0 0 1 66-93l12-10 12-7a75 75 0 0 1 34-7l20 2a64 64 0 0 1 37 24l5 11c2 7 2 9 2 20 0 10 0 13-2 19l-5 14-159 231v90a2518 2518 0 0 1-4 119c0 4-3 10-5 15a55 55 0 0 1-25 25l-16 6c-6 1-11 2-24 2a78 78 0 0 1-39-8l-11-7c-2-2-7-6-9-10a79 79 0 0 1-13-28l-2-204-77-112c-43-61-79-115-81-119l-6-14-1-17a54 54 0 0 1 10-31l9-11a62 62 0 0 1 33-16l15-1zm-1236 7c127 0 146 0 154 2l16 5 11 8 8 11 5 14a96 96 0 0 1 0 33l-5 14-8 11-9 8-13 5c-8 2-9 2-229 3l1 107h103l108 2 9 4c2 0 6 3 8 5l9 9 6 13a79 79 0 0 1 3 33l-3 15-6 13-11 10-13 6c-5 2-11 2-26 3l-188 1v115h110l116 2 12 4 9 6 8 9a56 56 0 0 1 9 37l-1 21-5 11-7 9-10 8-13 5c-6 1-17 2-310 2l-9-3-15-6-11-6a58 58 0 0 1-16-22l-5-12c-1-7-2-15-2-233 0-217 1-226 2-232l5-14 7-12a57 57 0 0 1 32-20l13-3 151-1zm718 0c124 0 143 0 151 2 5 0 11 2 15 4l11 8c3 3 7 7 8 10 2 2 4 8 5 13a118 118 0 0 1 1 38l-5 12-8 12-10 7c-2 2-8 4-13 5-8 2-8 2-216 3v113h91l99 1 13 3 11 5a46 46 0 0 1 20 28l1 20-1 19-5 12c-2 4-5 8-8 10-2 3-6 6-10 8l-12 5-199 2v80a2570 2570 0 0 1-4 104c0 3-3 10-5 14-2 6-5 9-10 15-6 5-10 8-15 10l-14 6-24 1a81 81 0 0 1-41-7l-11-8a66 66 0 0 1-16-19l-7-21V666c0-221 1-230 2-236l5-14 7-12a57 57 0 0 1 32-20l13-3 148-1zM731 1500a5587 5587 0 0 1 242 4 1681 1681 0 0 1 91 13 744 744 0 0 1 143 46 619 619 0 0 1 96 57 711 711 0 0 1 52 46 510 510 0 0 1 84 119 442 442 0 0 1 39 111 733 733 0 0 1-13 382 637 637 0 0 1-53 112 617 617 0 0 1-57 71 567 567 0 0 1-99 78 645 645 0 0 1-329 88 8496 8496 0 0 1-416-6 172 172 0 0 1-30-11 133 133 0 0 1-26-18 117 117 0 0 1-34-56 176 176 0 0 1-6-36l-1-437 1-439a295 295 0 0 1 8-37 186 186 0 0 1 16-33 137 137 0 0 1 29-29 136 136 0 0 1 24-12 195 195 0 0 1 50-12l188-1zm-23 889a3800 3800 0 0 0 239-5 474 474 0 0 0 70-17l14-6a332 332 0 0 0 54-30 312 312 0 0 0 37-34 286 286 0 0 0 41-68 307 307 0 0 0 20-71 798 798 0 0 0 7-54 725 725 0 0 0-11-158 416 416 0 0 0-26-68 233 233 0 0 0-149-120 546 546 0 0 0-64-14 713 713 0 0 0-140-5h-92zm1314-889a13263 13263 0 0 1 261 3 1125 1125 0 0 1 82 14 523 523 0 0 1 76 28 350 350 0 0 1 83 59 272 272 0 0 1 48 67 246 246 0 0 1 26 109 327 327 0 0 1-15 106 344 344 0 0 1-25 51 522 522 0 0 1-22 31 346 346 0 0 1-60 52l-44 23 10 3a400 400 0 0 1 65 30 331 331 0 0 1 52 42 317 317 0 0 1 43 63 297 297 0 0 1 25 98 408 408 0 0 1-18 144 356 356 0 0 1-43 75 347 347 0 0 1-99 80 467 467 0 0 1-140 43l-35 5-248 2a9701 9701 0 0 1-262-4 172 172 0 0 1-45-14 119 119 0 0 1-28-21l-12-15a173 173 0 0 1-17-33 234 234 0 0 1-7-38c-1-9-2-91-2-439s1-430 2-438a329 329 0 0 1 7-38 145 145 0 0 1 17-34 119 119 0 0 1 42-37 159 159 0 0 1 57-15c8-1 52-2 225-2zm-69 448c204 0 228 0 242-2a332 332 0 0 0 49-8l16-7a144 144 0 0 0 29-20l10-12a121 121 0 0 0 14-32 146 146 0 0 0-9-94l-8-12c-2-4-7-9-10-11a233 233 0 0 0-23-16 160 160 0 0 0-36-12l-21-4-133-2h-120zm0 464 280-2a386 386 0 0 0 41-9l17-7a117 117 0 0 0 27-21c4-3 9-9 11-13a129 129 0 0 0 13-29 180 180 0 0 0 6-43 230 230 0 0 0-6-43 123 123 0 0 0-13-30 115 115 0 0 0-25-25 128 128 0 0 0-33-16 173 173 0 0 0-38-8l-146-2h-134z"/></svg>
		</a>
		<div class="search efy_flex">
			<input type="search" placeholder="Search..." />
			<button class="efy_square_btn">
				<i efy_icon="search" />
			</button>
		</div>
	</div>
	<nav>
		<a href="/">Themes</a>
		<a href="/account">Account</a>
		{#if role && role > 0}
			<a href="/users">Users</a>
		{/if}
		<a href="https://efy.ooo">Apps</a>
		<button efy_sidebar_btn class="efy_square_btn efy_trans_filter_off efy_shadow_trans_off" title="Menu"><i efy_icon="menu" /></button>
	</nav>
</header>

<style>
header {
	display: flex;
	flex-wrap: wrap;
	justify-content: space-between;
	align-items: center;
	padding: 15rem;
	border-bottom: var(--efy_border);
	& > nav {
		padding: 0;
		display: flex;
		align-items: center;
		gap: 15rem;
	}
	& [efy_sidebar_btn] {
		background: transparent;
		padding: 0;
		margin: 0;
		border: 0;
	}
	& :is(a, nav button) {
		-webkit-text-fill-color: var(--efy_text) !important;
		color: var(--efy_text);
		background: transparent;
		margin: 0 !important;
	}
	& .logo {
		height: var(--efy_ratio_width);
		width: var(--efy_ratio_width);
		fill: var(--efy_text)
	}
	& .search {
		gap: 0;
		& input {
			border-radius: var(--efy_radius) 0 0 var(--efy_radius);
			width: fit-content;
			margin: 0;
		}
		& button {
			border-radius: 0 var(--efy_radius) var(--efy_radius) 0;
		}
	}
}
</style>
